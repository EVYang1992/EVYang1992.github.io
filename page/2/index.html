<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="自动驾驶, autonomous driving, deep learning, computer vision, 计算机视觉，路口识别，定位" />





  <link rel="alternate" href="/rss.xml" title="Eagle" type="application/atom+xml" />






<meta property="og:type" content="website">
<meta property="og:title" content="Eagle">
<meta property="og:url" content="https://evyang1992.github.io/page/2/index.html">
<meta property="og:site_name" content="Eagle">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Eagle">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://evyang1992.github.io/page/2/"/>





  <title>Eagle</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Eagle</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">一个走偏了的汽车工程师</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://evyang1992.github.io/2018/01/15/深度学习正则项-regularizers/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Devin Yang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eagle">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/15/深度学习正则项-regularizers/" itemprop="url">深度学习正则项--regularizers</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-15T11:39:37+01:00">
                2018-01-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/深度学习/" itemprop="url" rel="index">
                    <span itemprop="name">深度学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  602
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="什么是正则项？为什么需要正则项？"><a href="#什么是正则项？为什么需要正则项？" class="headerlink" title="什么是正则项？为什么需要正则项？"></a>什么是正则项？为什么需要正则项？</h2><p>应对<strong>过拟合</strong>问题的在损失函数中添加的一项，原本的损失函数和正则项以其作为新的损失函数。<br>正则项在优化过程中层的参数或层的激活值添加惩罚项，这惩罚项将与损失函数一起作为网络的最终优化目标。惩罚项基于层进行惩罚，目前惩罚项的接口与层有关，但<em>Dense, Conv1D, Conv2D, Conv3D</em>具有共同的接口。<br>请参见：<a href="https://evyang1992.github.io/2018/01/08/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%95%B4%E4%BD%93%E6%80%9D%E8%B7%AF%E5%8F%8A%E4%B8%BB%E8%A6%81%E9%97%AE%E9%A2%98%E5%BC%95%E5%87%BA/">深度学习整体思路及主要问题引出</a></p>
<h2 id="为什么正则化能够降低过拟合"><a href="#为什么正则化能够降低过拟合" class="headerlink" title="为什么正则化能够降低过拟合"></a>为什么正则化能够降低过拟合</h2><ul>
<li>经验表明正则化的神经网络通常要比未正则化的网络泛化能力更好  </li>
<li>科学给我们了一个方法， 却没有给出一个合理的解释，如果真的要理解的话是这样的：想象一个线性方程$y=w*x+b$，如果$w$较小，那个对于一个输入$x$ 来说，增加$x$ 输出的影响较小<br>详细请参考：<a href="https://hit-scir.gitbooks.io/neural-networks-and-deep-learning-zh_cn/content/chap3/c3s5ss2.html" target="_blank" rel="noopener">为什么正则化能够降低过拟合</a>  </li>
</ul>
<h2 id="深度学习中正则项方法"><a href="#深度学习中正则项方法" class="headerlink" title="深度学习中正则项方法"></a>深度学习中正则项方法</h2><p>一般有以下几种方法：  </p>
<ul>
<li>$L1L1$ 正则化</li>
<li>$L2L2$ 正则化</li>
<li>$L1L2L1L2$ 正则化</li>
<li>$DropoutDropout$ 弃权</li>
</ul>
<p>L1正则化的效果是尽量将参数变得稀疏，也就是将很多参数都变为0，而L2正则化则是尽量将各个参数都变得平均，L1L2 是以上两种综合表现。<br>假设：  </p>
<p>$$X=(1,1,2,1)$$</p>
<p>$$W_1=(0,0,1,0)$$</p>
<p>$$W_2=(0.4,0.4,0.4,0.4)$$</p>
<p>显然： </p>
<p>$$W_1^TX = W2^TX = 2$$</p>
<p>也就是说，在不加正则项时，两个W的效果一样。我们可以分别计算L1和L2正则项。应用$L1$正则化：</p>
<p>$$R_{L_1}(W1) = 0 + 0 + 1 + 0 =1$$</p>
<p>$$R_{L_1}(W2) = 0.4 + 0.4 + 0.4 + 0.4 =1.6$$</p>
<p>可见应用$L1$正则化，$W1$会有更好的参数。应用$L2$正则化：</p>
<p>$$R_{L_2}(W1) =00.4^2 + 0^2 + 1^2 + 0^2 =1$$  </p>
<p>可见应用$L2$ 正则化，$W2$ 会有更好的参数。<br>更详细的介绍请参见：  </p>
<ul>
<li><a href="https://hit-scir.gitbooks.io/neural-networks-and-deep-learning-zh_cn/content/chap3/c3s5ss1.html" target="_blank" rel="noopener">正则化</a></li>
<li><a href="http://shartoo.github.io/regularization-deeplearning/" target="_blank" rel="noopener">深度学习：正则化</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzIxMjAzNDY5Mg==&amp;mid=2650790573&amp;idx=1&amp;sn=5440ed10fe842ef40cbd4a98a0abf198&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">其他正则化技术</a>  </li>
</ul>
<h2 id="自己动身实现一个正则化过程"><a href="#自己动身实现一个正则化过程" class="headerlink" title="自己动身实现一个正则化过程"></a>自己动身实现一个正则化过程</h2><ul>
<li><a href="https://zh.gluon.ai/chapter_supervised-learning/reg-scratch.html" target="_blank" rel="noopener">正则化 — 从0开始</a></li>
</ul>
<h2 id="正则化方法的Keras-实现"><a href="#正则化方法的Keras-实现" class="headerlink" title="正则化方法的Keras 实现"></a>正则化方法的Keras 实现</h2><ul>
<li><a href="https://keras-cn.readthedocs.io/en/latest/other/regularizers/" target="_blank" rel="noopener">正则化方法的Keras 实现</a></li>
</ul>
<h2 id="正则化底层数学原理"><a href="#正则化底层数学原理" class="headerlink" title="正则化底层数学原理"></a>正则化底层数学原理</h2><ul>
<li><a href="http://shartoo.github.io/regular-attachment/" target="_blank" rel="noopener">深度学习：参数正则化参考资料</a></li>
</ul>

          
        
      
    </div>
    
    
    
	
	<div>
	  
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://evyang1992.github.io/2018/01/15/Python-logging-使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Devin Yang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eagle">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/15/Python-logging-使用/" itemprop="url">Python logging 使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-15T11:08:35+01:00">
                2018-01-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,798
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  7
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="功能介绍"><a href="#功能介绍" class="headerlink" title="功能介绍"></a>功能介绍</h2><p>日志的目的：  </p>
<ul>
<li>诊断日志 记录与应用程序操作相关的日志。例如，用户遇到的报错信息， 可通过搜索诊断日志获得上下文信息。</li>
<li>审计日志 为商业分析而记录的日志。从审计日志中，可提取用户的交易信息， 并结合其他用户资料构成用户报告或者用来优化商业目标。<br>Logging 能做什么？</li>
<li>可以输出到控制台</li>
<li>可以写入日志文档  </li>
</ul>
<h2 id="基本使用–控制台输出日志"><a href="#基本使用–控制台输出日志" class="headerlink" title="基本使用–控制台输出日志"></a>基本使用–控制台输出日志</h2><p>默认情况下，logging 输出到控制台。<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line">logging.debug(<span class="string">'debug message'</span>)</span><br><span class="line">logging.info(<span class="string">'info message'</span>)</span><br><span class="line">logging.warn(<span class="string">'warn message'</span>)</span><br><span class="line">logging.error(<span class="string">'error message'</span>)</span><br><span class="line">logging.critical(<span class="string">'critical message'</span>)</span><br></pre></td></tr></table></figure></p>
<p>输出：</p>
<blockquote>
<p> WARNING:root:warn message<br>ERROR:root:error message<br>CRITICAL:root:critical message</p>
</blockquote>
<p><em>Question：</em><br>为什么’debug message’ 和’info message’ 没有被输出？<br><em>Answer：</em><br>Logging 默认的日志等级为WARNING，只有日志级别高于WARNING 的日志才会被显示。关于日志级别，请继续往下看。</p>
<h2 id="基本使用–写入日志文档"><a href="#基本使用–写入日志文档" class="headerlink" title="基本使用–写入日志文档"></a>基本使用–写入日志文档</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">通过下面的方式进行简单配置输出方式与日志级别, level 设置日志级别，高于日志级别的就显示  </span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">logging.basicConfig(filename=<span class="string">'logger.log'</span>, level=logging.INFO)</span><br><span class="line"></span><br><span class="line">logging.debug(<span class="string">'debug message'</span>)</span><br><span class="line">logging.info(<span class="string">'info message'</span>)</span><br><span class="line">logging.warn(<span class="string">'warn message'</span>)</span><br><span class="line">logging.error(<span class="string">'error message'</span>)</span><br><span class="line">logging.critical(<span class="string">'critical message'</span>)</span><br></pre></td></tr></table></figure>
<p>basicConfig关键字参数：</p>
<table>
<thead>
<tr>
<th>关键字</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>filename</td>
<td>创建一个FileHandler，使用指定的文件名，而不是使用StreamHandler。</td>
</tr>
<tr>
<td>filemode</td>
<td>如果指明了文件名，指明打开文件的模式（如果没有指明filemode，默认为’a’）。</td>
</tr>
<tr>
<td>format</td>
<td>handler使用指明的格式化字符串。</td>
</tr>
<tr>
<td>datefmt</td>
<td>使用指明的日期／时间格式。</td>
</tr>
<tr>
<td>level</td>
<td>指明根logger的级别。</td>
</tr>
<tr>
<td>stream</td>
<td>使用指明的流来初始化StreamHandler。该参数与’filename’不兼容，如果两个都有，’stream’被忽略。</td>
</tr>
</tbody>
</table>
<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><ul>
<li><p>Logger 记录器： 这是我们能对整个对Logging 进行操作的对象。要输出Logging 一定要一个Logger，当然导入logging 之后有一个默认logging 为root logger。默认属性上面做了介绍。</p>
<blockquote>
<p> 创建方法： logger = logging.getLogger(logger_name)</p>
</blockquote>
</li>
<li><p>Handler 处理器：Logger 中的属性。设置输出到控制台还是输出日志文档。Handler处理器类型有很多种，比较常用的有三个，StreamHandler，FileHandler，NullHandler。</p>
<ul>
<li><p>StreamHandler：输出到控制台  </p>
<blockquote>
<p>创建方法: sh = logging.StreamHandler(stream=None)</p>
</blockquote>
</li>
<li><p>FileHandler： 输出到日志文档  </p>
<blockquote>
<p>创建方法: fh = logging.FileHandler(filename, mode=’a’, encoding=None, delay=False)  </p>
</blockquote>
</li>
<li><p>NullHandler： 什么都不做”的handler，由库开发者使用。</p>
</li>
</ul>
</li>
<li><p>Filter 过滤器：logging 属性，可以决定输出哪些日志记录。</p>
<blockquote>
<p>创建方法: filter = logging.Filter(name=’’)</p>
</blockquote>
</li>
<li><p>Formatter 格式化器：logging 的属性，设置输出显示成什么样子。</p>
<blockquote>
<p>创建方法: formatter = logging.Formatter(fmt=None, datefmt=None)</p>
</blockquote>
</li>
</ul>
<p>format格式：  </p>
<table>
<thead>
<tr>
<th>格式</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>%(levelno)s</td>
<td>打印日志级别的数值</td>
</tr>
<tr>
<td>%(levelname)s</td>
<td>打印日志级别名称</td>
</tr>
<tr>
<td>%(pathname)s</td>
<td>打印当前执行程序的路径</td>
</tr>
<tr>
<td>%(filename)s</td>
<td>打印当前执行程序名称</td>
</tr>
<tr>
<td>%(funcName)s</td>
<td>打印日志的当前函数</td>
</tr>
<tr>
<td>%(lineno)d</td>
<td>打印日志的当前行号</td>
</tr>
<tr>
<td>%(asctime)s</td>
<td>打印日志的时间</td>
</tr>
<tr>
<td>%(thread)d</td>
<td>打印线程id</td>
</tr>
<tr>
<td>%(threadName)s</td>
<td>打印线程名称</td>
</tr>
<tr>
<td>%(process)d</td>
<td>打印进程ID</td>
</tr>
<tr>
<td>%(message)s</td>
<td>打印日志信息</td>
</tr>
</tbody>
</table>
<p>dateformat设置参考：  <a href="https://docs.python.org/2/library/time.html?highlight=strftime#time.strftime" target="_blank" rel="noopener">time.strftime</a>  </p>
<p>  说明： </p>
<blockquote>
<p>Logger可以包含一个或多个Handler和Filter，即Logger与Handler或Fitler是一对多的关系;<br>  一个Logger实例可以新增多个Handler，一个Handler可以新增多个格式化器或多个过滤器，而且日志级别将会继承。</p>
</blockquote>
<p>  配置实例：</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="comment"># create logger</span></span><br><span class="line">logger_name = <span class="string">"example"</span></span><br><span class="line">logger = logging.getLogger(logger_name)</span><br><span class="line">logger.setLevel(logging.DEBUG)</span><br><span class="line"></span><br><span class="line"><span class="comment"># create file handler</span></span><br><span class="line">log_path = <span class="string">"./log.log"</span></span><br><span class="line">fh = logging.FileHandler(log_path)</span><br><span class="line">fh.setLevel(logging.WARN)</span><br><span class="line"></span><br><span class="line"><span class="comment"># create formatter</span></span><br><span class="line">fmt = <span class="string">"%(asctime)-15s %(levelname)s %(filename)s %(lineno)d %(process)d %(message)s"</span></span><br><span class="line">datefmt = <span class="string">"%a %d %b %Y %H:%M:%S"</span></span><br><span class="line">formatter = logging.Formatter(fmt, datefmt)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add handler and formatter to logger</span></span><br><span class="line">fh.setFormatter(formatter)</span><br><span class="line">logger.addHandler(fh)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print log info</span></span><br><span class="line">logger.debug(<span class="string">'debug message'</span>)</span><br><span class="line">logger.info(<span class="string">'info message'</span>)</span><br><span class="line">logger.warn(<span class="string">'warn message'</span>)</span><br><span class="line">logger.error(<span class="string">'error message'</span>)</span><br><span class="line">logger.critical(<span class="string">'critical message'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="执行架构"><a href="#执行架构" class="headerlink" title="执行架构"></a>执行架构</h2><ol>
<li>判断日志的等级是否大于Logger对象的等级，如果大于，则往下执行，否则，流程结束。</li>
<li>产生日志。第一步，判断是否有异常，如果有，则添加异常信息。第二步，处理日志记录方法(如debug，info等)中的占位符，即一般的字符串格式化处理。</li>
<li>使用注册到Logger对象中的Filters进行过滤。如果有多个过滤器，则依次过滤；只要有一个过滤器返回假，则过滤结束，且该日志信息将丢弃，不再处理，而处理流程也至此结束。否则，处理流程往下执行。</li>
<li>在当前Logger对象中查找Handlers，如果找不到任何Handler，则往上到该Logger对象的父Logger中查找；如果找到一个或多个Handler，则依次用Handler来处理日志信息。但在每个Handler处理日志信息过程中，会首先判断日志信息的等级是否大于该Handler的等级，如果大于，则往下执行(由Logger对象进入Handler对象中)，否则，处理流程结束。</li>
<li>执行Handler对象中的filter方法，该方法会依次执行注册到该Handler对象中的Filter。如果有一个Filter判断该日志信息为假，则此后的所有Filter都不再执行，而直接将该日志信息丢弃，处理流程结束。</li>
<li>使用Formatter类格式化最终的输出结果。 注：Formatter同上述第2步的字符串格式化不同，它会添加额外的信息，比如日志产生的时间，产生日志的源代码所在的源文件的路径等等。</li>
<li>真正地输出日志信息(到网络，文件，终端，邮件等)。至于输出到哪个目的地，由Handler的种类来决定。</li>
</ol>
<h2 id="高级使用"><a href="#高级使用" class="headerlink" title="高级使用"></a>高级使用</h2><p>现在来归纳一下所有的日志配置方法：  </p>
<ul>
<li>缺省使用不配置</li>
<li>通过简单方式进行配置，使用basicConfig()函数直接进行配置；</li>
<li>显式创建记录器Logger、处理器Handler和格式化器Formatter，并进行相关设置；</li>
<li>通过配置文件进行配置，使用fileConfig()函数读取配置文件；</li>
<li>通过配置字典进行配置，使用dictConfig()函数读取配置信息；</li>
<li>通过网络进行配置，使用listen()函数进行网络配置。</li>
</ul>
<p><strong>使用配置文件.ini 进行配置：</strong>  </p>
<ol>
<li>首先建立一个ini 文件logging_config.ini：</li>
</ol>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[loggers]</span></span><br><span class="line"><span class="attr">keys</span>=root</span><br><span class="line"></span><br><span class="line"><span class="section">[handlers]</span></span><br><span class="line"><span class="attr">keys</span>=stream_handler</span><br><span class="line"></span><br><span class="line"><span class="section">[formatters]</span></span><br><span class="line"><span class="attr">keys</span>=formatter</span><br><span class="line"></span><br><span class="line"><span class="section">[logger_root]</span></span><br><span class="line"><span class="attr">level</span>=DEBUG</span><br><span class="line"><span class="attr">handlers</span>=stream_handler</span><br><span class="line"></span><br><span class="line"><span class="section">[handler_stream_handler]</span></span><br><span class="line"><span class="attr">class</span>=StreamHandler</span><br><span class="line"><span class="attr">level</span>=DEBUG</span><br><span class="line"><span class="attr">formatter</span>=formatter</span><br><span class="line"><span class="attr">args</span>=(sys.stderr,)</span><br><span class="line"></span><br><span class="line"><span class="section">[formatter_formatter]</span></span><br><span class="line"><span class="attr">format</span>=%(asctime)s %(name)-<span class="number">12</span>s %(levelname)-<span class="number">8</span>s %(message)s</span><br></pre></td></tr></table></figure>
<ol>
<li>然后在源码中调用 logging.config.fileConfig() 方法：  </li>
</ol>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">from</span> logging.config <span class="keyword">import</span> fileConfig</span><br><span class="line"></span><br><span class="line">fileConfig(<span class="string">'logging_config.ini'</span>)</span><br><span class="line">logger = logging.getLogger()</span><br><span class="line">logger.debug(<span class="string">'often makes a very good meal of %s'</span>, <span class="string">'visiting tourists'</span>)</span><br></pre></td></tr></table></figure>
<p><strong>通过字典进行配置的例子：</strong><br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">from</span> logging.config <span class="keyword">import</span> dictConfig</span><br><span class="line"></span><br><span class="line">logging_config = dict(</span><br><span class="line">  version = <span class="number">1</span>,</span><br><span class="line">  formatters = &#123;</span><br><span class="line">      <span class="string">'f'</span>: &#123;<span class="string">'format'</span>:</span><br><span class="line">            <span class="string">'%(asctime)s %(name)-12s %(levelname)-8s %(message)s'</span>&#125;</span><br><span class="line">      &#125;,</span><br><span class="line">  handlers = &#123;</span><br><span class="line">      <span class="string">'h'</span>: &#123;<span class="string">'class'</span>: <span class="string">'logging.StreamHandler'</span>,</span><br><span class="line">            <span class="string">'formatter'</span>: <span class="string">'f'</span>,</span><br><span class="line">            <span class="string">'level'</span>: logging.DEBUG&#125;</span><br><span class="line">      &#125;,</span><br><span class="line">  root = &#123;</span><br><span class="line">      <span class="string">'handlers'</span>: [<span class="string">'h'</span>],</span><br><span class="line">      <span class="string">'level'</span>: logging.DEBUG,</span><br><span class="line">      &#125;,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">dictConfig(logging_config)</span><br><span class="line"></span><br><span class="line">logger = logging.getLogger()</span><br><span class="line">logger.debug(<span class="string">'often makes a very good meal of %s'</span>, <span class="string">'visiting tourists'</span>)</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    
	
	<div>
	  
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://evyang1992.github.io/2018/01/10/Python-xml-文件处理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Devin Yang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eagle">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/10/Python-xml-文件处理/" itemprop="url">Python xml 文件处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-10T09:33:51+01:00">
                2018-01-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  653
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="关于XML-的起源和发展"><a href="#关于XML-的起源和发展" class="headerlink" title="关于XML 的起源和发展"></a>关于XML 的起源和发展</h2><p>参考：<a href="https://zh.wikipedia.org/wiki/XML" target="_blank" rel="noopener">XML</a></p>
<h2 id="XML-学习"><a href="#XML-学习" class="headerlink" title="XML 学习"></a>XML 学习</h2><p>参考： <a href="http://www.w3school.com.cn/xml/" target="_blank" rel="noopener">XML 学习</a></p>
<h2 id="使用Python-ElementTree-解析XML-实例"><a href="#使用Python-ElementTree-解析XML-实例" class="headerlink" title="使用Python ElementTree 解析XML 实例"></a>使用Python ElementTree 解析XML 实例</h2><p>这是一个例子，本文将基于这个xml 文件进行处理</p>
<pre><code class="xml"><span class="tag">&lt;<span class="name">students</span>&gt;</span>  
    <span class="tag">&lt;<span class="name">student</span> <span class="attr">no</span>=<span class="string">"2009081097"</span>&gt;</span>  
        <span class="tag">&lt;<span class="name">name</span> <span class="attr">nickname</span>=<span class="string">"apple"</span>&gt;</span>jack<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  
        <span class="tag">&lt;<span class="name">gender</span>&gt;</span>M<span class="tag">&lt;/<span class="name">gender</span>&gt;</span>  
        <span class="tag">&lt;<span class="name">age</span> <span class="attr">updated</span>=<span class="string">"yes"</span>&gt;</span>89<span class="tag">&lt;/<span class="name">age</span>&gt;</span>  
        <span class="tag">&lt;<span class="name">score</span> <span class="attr">subject</span>=<span class="string">"math"</span>&gt;</span>97<span class="tag">&lt;/<span class="name">score</span>&gt;</span>  
        <span class="tag">&lt;<span class="name">score</span> <span class="attr">subject</span>=<span class="string">"chinese"</span>&gt;</span>90<span class="tag">&lt;/<span class="name">score</span>&gt;</span>  
    <span class="tag">&lt;/<span class="name">student</span>&gt;</span>  
    <span class="tag">&lt;<span class="name">student</span> <span class="attr">no</span>=<span class="string">"2009081098"</span>&gt;</span>  
        <span class="tag">&lt;<span class="name">name</span> <span class="attr">nickname</span>=<span class="string">"apple"</span>&gt;</span>sunny<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  
        <span class="tag">&lt;<span class="name">gender</span>&gt;</span>W<span class="tag">&lt;/<span class="name">gender</span>&gt;</span>  
        <span class="tag">&lt;<span class="name">age</span> <span class="attr">updated</span>=<span class="string">"yes"</span>&gt;</span>90<span class="tag">&lt;/<span class="name">age</span>&gt;</span>  
        <span class="tag">&lt;<span class="name">score</span> <span class="attr">subject</span>=<span class="string">"math"</span>&gt;</span>87<span class="tag">&lt;/<span class="name">score</span>&gt;</span>  
        <span class="tag">&lt;<span class="name">score</span> <span class="attr">subject</span>=<span class="string">"chinese"</span>&gt;</span>96<span class="tag">&lt;/<span class="name">score</span>&gt;</span>  
    <span class="tag">&lt;/<span class="name">student</span>&gt;</span>  
    <span class="tag">&lt;<span class="name">student</span> <span class="attr">no</span>=<span class="string">"2009081099"</span>&gt;</span>  
        <span class="tag">&lt;<span class="name">name</span> <span class="attr">nickname</span>=<span class="string">"apple"</span>&gt;</span>Anna<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  
        <span class="tag">&lt;<span class="name">gender</span>&gt;</span>M<span class="tag">&lt;/<span class="name">gender</span>&gt;</span>  
        <span class="tag">&lt;<span class="name">age</span> <span class="attr">updated</span>=<span class="string">"yes"</span>&gt;</span>88<span class="tag">&lt;/<span class="name">age</span>&gt;</span>  
        <span class="tag">&lt;<span class="name">score</span> <span class="attr">subject</span>=<span class="string">"math"</span>&gt;</span>64<span class="tag">&lt;/<span class="name">score</span>&gt;</span>  
        <span class="tag">&lt;<span class="name">score</span> <span class="attr">subject</span>=<span class="string">"chinese"</span>&gt;</span>98<span class="tag">&lt;/<span class="name">score</span>&gt;</span>  
    <span class="tag">&lt;/<span class="name">student</span>&gt;</span>  
<span class="tag">&lt;/<span class="name">students</span>&gt;</span>
</code></pre>
<p>在做处理之前，要清楚xml 文件基本要处理的内容是下面的几个：  </p>
<ul>
<li>节点： <name nickname="apple">jack</name>  就是一个节点，根节点就是最外面那个节点，比如这里的<students>。  </students></li>
<li>属性：nickname 是元素的属性attrib。获取用get, 设定用set。</li>
<li>文本内容：jack 是元素的text。读内容用.text。  </li>
</ul>
<p>接下来用代码来解释相关的操作：  </p>
<pre><code class="py"><span class="string">'''</span>
<span class="string">ElementTree 生来就是为了处理 XML ，它在 Python 标准库中有两种实现。一种是纯 Python 实现例如 xml.etree.ElementTree ，另外一种是速度快一点的 xml.etree.cElementTree 。你要记住： 尽量使用 C 语言实现的那种，因为它速度更快，而且消耗的内存更少。</span>
<span class="string">一般使用下面的代码来导入。  </span>
<span class="string">'''</span>
<span class="keyword">try</span>:
  <span class="keyword">import</span> xml.etree.cElementTree <span class="keyword">as</span> et
<span class="keyword">except</span> ImportError:
  <span class="keyword">import</span> xml.etree.ElementTree <span class="keyword">as</span> et

<span class="comment"># 解析文件  </span>
parser = et.parse(<span class="string">"data.xml"</span>)

<span class="comment"># 获取根节点  </span>
root = parser.getroot()

<span class="comment"># 获取标签名字  </span>
print(root.tag)

<span class="comment"># 获取属性  </span>
attr = root.attrib

<span class="comment"># 通过索引访问节点  </span>
print(root[<span class="number">0</span>][<span class="number">0</span>].text)

<span class="comment"># 查找根目录下面的子元素  </span>
<span class="keyword">for</span> name <span class="keyword">in</span> root.findall(<span class="string">"student"</span>):  
  <span class="comment"># 查找一个具体的元素  </span>
  print(name.find(<span class="string">"age"</span>).get(<span class="string">"updated"</span>))
  <span class="comment">#获取属性  </span>
  print(name.get(<span class="string">"no"</span>))


<span class="comment">#获取student元素  </span>
<span class="comment">#更改student.age年龄  </span>
<span class="comment">#获取name设置属性  </span>
<span class="comment">#写入文档  </span>
<span class="keyword">for</span> child <span class="keyword">in</span> root.iter(<span class="string">"student"</span>):  
  new_age = int(child.find(<span class="string">"age"</span>).text)+<span class="number">10</span>
  child.find(<span class="string">"age"</span>).text = str(new_age)
  child.find(<span class="string">"name"</span>).set(<span class="string">"nickname"</span>,<span class="string">"apple"</span>)
parser.write(<span class="string">"data.xml"</span>)

<span class="comment">#查找根目录下面的子元素  </span>
<span class="comment">#查找age  </span>
<span class="comment">#如果大于age删除元素  </span>
<span class="comment">#写入文档  </span>
<span class="keyword">for</span> offspring <span class="keyword">in</span> root.findall(<span class="string">"student"</span>):  
  age = int(offspring.find(<span class="string">"age"</span>).text)
  <span class="keyword">if</span>(age &gt; <span class="number">60</span>):  
    root.remove(offspring)
parser.write(<span class="string">"data.xml"</span>)

<span class="comment">#创建元素  </span>
father = et.Element(<span class="string">"father"</span>)
father.text = <span class="string">"Jason"</span>
son = et.SubElement(father,<span class="string">"son"</span>) 
son.text = <span class="string">"Lan"</span>  
daughter=et.SubElement(father,<span class="string">"daughter"</span>) 
daughter.text = <span class="string">"sunny"</span>    
print(et.dump(father)) 
exit()

<span class="comment">#迭代属性  </span>
<span class="keyword">for</span> child <span class="keyword">in</span> root:  
  print((<span class="string">"iterator node name is {} , attr is {}"</span>).format)(child.tag,child.attrib) 

<span class="keyword">for</span> student <span class="keyword">in</span> root.findall(<span class="string">'student'</span>):  
  id = student.get(<span class="string">"no"</span>) 
  name = student.find(<span class="string">"name"</span>).text  
  print(id,name)  

<span class="keyword">for</span> age <span class="keyword">in</span> root.iter(<span class="string">'age'</span>): 
  new_age = int(age.text)+<span class="number">1</span>  
  age.text = str(new_age)
  age.set(<span class="string">'updated'</span>,<span class="string">'yes'</span>)  
<span class="comment">#写入文件 用什么编码 是否要申明头部文件  </span>
parser.write(<span class="string">"data.xml"</span>,encoding=<span class="string">"utf-8"</span>,xml_declaration=<span class="keyword">True</span>)

<span class="keyword">for</span> name <span class="keyword">in</span> root.iter(<span class="string">"student"</span>):  
  <span class="comment">#print name.tag</span>
  print(name.attrib[<span class="string">"no"</span>])
</code></pre>

          
        
      
    </div>
    
    
    
	
	<div>
	  
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://evyang1992.github.io/2018/01/09/深度学习整体思路及主要问题引出/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Devin Yang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eagle">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/09/深度学习整体思路及主要问题引出/" itemprop="url">深度学习整体思路及主要问题引出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-09T12:15:00+01:00">
                2018-01-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/深度学习/" itemprop="url" rel="index">
                    <span itemprop="name">深度学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  616
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>回到深度学习网络层上面，我们有一个数据集$X$ 输入，经过很多层网络层（每一层网络层有很多参数），得到计算结果$Y$ 。一个完整的全连接层Fully connected layer 如下：<br><img src="https://github.com/EVYang1992/EVYang1992.github.io/blob/master/2018/01/09/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%95%B4%E4%BD%93%E6%80%9D%E8%B7%AF%E5%8F%8A%E4%B8%BB%E8%A6%81%E9%97%AE%E9%A2%98%E5%BC%95%E5%87%BA/1.PNG" alt="1"></p>
<p>从图上来看，如何评估输出$Y$ 是我们所需的结果，我们自然想到了目标函数（损失函数）。将训练得到的$Y$ 与我们事先标注的想要的$Y’$ 利用损失函数进行计算，就可以保证输出$Y$ 是一个目标值。 关于损失函数，请参见这里。<br>也就是输入$X$经过一堆参数$\theta_1$,$\theta_2$,$\theta_3$··· 的影响得到输出$Y$ , 即:</p>
<p>$$Y=F(X,θ)$$</p>
<p>然后利用损失函数计算$Y$ 和$Y’$ ：  </p>
<p>$$A=L(Y,Y’)$$</p>
<p>接下来的目标是什么呢？调整$θ$ 值损失函数得到的结果$A$ 最小。<br>我们计算每一个$θ$ 对$A$ 的影响。即求偏导数：  </p>
<p>$$d(A)/d(\theta)$$</p>
<p>$\theta$ 自调整采用梯度下降的方式：  </p>
<p>$$\theta = \theta - \eta*\frac{d(A)}{d(\theta)}$$<br><img src="https://github.com/EVYang1992/EVYang1992.github.io/blob/master/2018/01/09/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%95%B4%E4%BD%93%E6%80%9D%E8%B7%AF%E5%8F%8A%E4%B8%BB%E8%A6%81%E9%97%AE%E9%A2%98%E5%BC%95%E5%87%BA/1.PNG" alt="2">  </p>
<p>$\eta$ 称之为学习率learning rate。<br>求一个函数的极值点，那就是求一阶梯度为零的时候的函数值。那问题到现在就成了找到合适的参数值，使得：  </p>
<p>$$\frac{d(A)}{d(\theta)} = 0$$  </p>
<p>这好比你在一座大山里想走到大山最低处，你对四面八方的地势进行判断，哪边最陡从哪边前进一点点（求梯度），直到走到某个点，这个点四面八方都是平地（此时梯度为零）。  </p>
<p>当然你会有一些疑问：  </p>
<ul>
<li>为什么极值为零的点是最低点，不是最高点？<br>先看图：<br><img src="https://github.com/EVYang1992/EVYang1992.github.io/blob/master/2018/01/09/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%95%B4%E4%BD%93%E6%80%9D%E8%B7%AF%E5%8F%8A%E4%B8%BB%E8%A6%81%E9%97%AE%E9%A2%98%E5%BC%95%E5%87%BA/1.PNG" alt="3"></li>
</ul>
<p>你会发现，通过：  </p>
<p>$$\theta = \theta - \eta*\frac{d(A)}{d(\theta)}$$ </p>
<p>计算$\theta$ （这里$\theta = \eta$ ）时候，如果梯度$d(A)/d(\theta)$ 是正值，也就是在上坡的时候，那么计算后的$\theta$ 变小，也就是在往坡下走。相反，若 梯度$d(A)/d(\theta)$ 是负值，那$\theta$ 变大，也在往坡下走。可以知道，这个操作都是使得纵轴的损失函数LL 变小。</p>
<ul>
<li><p>我们的目标是走到整座大山的最低点，而梯度为零不一定是全局最低，有可能是局部最低点, 直观点就像上图，只走到了红色部分。  </p>
</li>
<li><p>进行梯度计算，诞生了反向传播算法Backpropagation。</p>
</li>
<li><p>为了尽快到达最低点，你要告诉它该怎么走。</p>
</li>
</ul>

          
        
      
    </div>
    
    
    
	
	<div>
	  
	</div>

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Devin Yang</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">22</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/rss.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/EVYang1992" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:devin.yang.auto@gmail.com" target="_blank" title="Email">
                      
                        <i class="fa fa-fw fa-envelope"></i>Email</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/yang-yue-1992" target="_blank" title="ZhiHu">
                      
                        <i class="fa fa-fw fa-globe"></i>ZhiHu</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2017 &mdash; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-car"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Devin Yang</span>

  
</div>









        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  
    

    
  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.4"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.4"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


  

</body>
</html>
